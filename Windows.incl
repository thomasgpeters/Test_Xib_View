#define STATECODE_POPUP_IDENTIFIER   @"statecode"#define ADDRESSTYPE_POPUP_IDENTIFIER @"addresstype"#define CONTACTTYPE_POPUP_IDENTIFIER @"contacttype"void local fn BuildSubViews'nibview _contactListView, @"ContactListView", @"Contact List View", ( _controlSpacer, _controlSpacer - _controlSpacer )nibview _personView,  @"PersonView", @"Person Detail View",   ( _contactListWidth + (_controlSpacer*2), _contactListHeight - _personViewHeight )nibview _contactView, @"ContactView", @"Contact Detail View", ( _contactListWidth + (_controlSpacer*2), _contactListHeight - _contactViewHeight )nibview _addressView, @"AddressView",@"Address Detail View",  ( _contactListWidth + (_controlSpacer*2), _contactListHeight - _addressViewHeight )// Init Toolbar and Viewsnibtoolbar _mainToolbar, @"Toolbar"WindowSetToolbar( _window, _mainToolbar )ViewSetHidden( _contactListView, NO )ViewSetHidden( _personView, YES )ToolbarItemSetEnabled( _mainToolbar, _personButton, YES )ViewSetHidden( _contactView, YES )ToolbarItemSetEnabled( _mainToolbar, _contactButton, YES )ViewSetHidden( _addressView, NO )ToolbarItemSetEnabled( _mainToolbar, _addressButton, NO )end fnvoid local fn BuildWindow'~'1// setup windows from xibnibwindow _window, @"MainWindow"' nibwindow -_sheetWindow, @"PreferencesView"fn TableViewSetCustomCellCallback( _contactListView, @[ID_KEY,CONTACT_KEY], @fn MyCustomCellCallback, NULL )fn TableViewSizeLastColumnToFit( _contactListView )// setup views from xibWindowCenter( _window )ViewSetAutoresizesSubviews( _window, YES )end fn